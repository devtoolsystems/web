---
import Layout from "@layouts/Layout.astro";
import ebookface from "../../assets/ebookface.jpg";
import { Picture } from "astro:assets";
console.log("hola desde magnet");
---

<Layout title="">
  <div class="bg-gray-50">
    <div class="min-h-screen flex flex-col">
      <!-- Header Section -->
      <header class="bg-white shadow-sm py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
          <div class="text-2xl font-bold text-gray-800">devtool systems</div>
        </div>
      </header>

      <!-- Hero Section -->
      <section
        class="bg-gradient-to-r from-gray-100 to-white py-16 md:py-24 flex-grow">
        <div
          class="container mx-auto px-4 flex flex-col lg:flex-row items-center justify-center gap-8">
          <div class="md:w-1/2 text-center lg:text-left">
            <h1
              class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-gray-90 0 leading-tight mb-4 rounded-lg">
              Aumenta tus reservas. <br class="hidden md:inline" />Transforma tu
              hostal.
            </h1>
            <p
              class="text-lg md:text-xl text-gray-700 mb-8 max-w-xl mx-auto md:mx-0">
              Descarga nuestra gu√≠a gratuita y aprende los <span
                class="font-bold">15 elementos esenciales</span
              > que la pagina web de tu hostal en Nicaragua debe tener para atraer
              a m√°s viajeros y ganar su confianza.
            </p>
            <a
              href="#form-section"
              class="bg-gray-900 text-white px-8 py-4 rounded-lg font-semibold shadow-lg hover:bg-gray-700 hover:shadow-xl transition-all duration-300 inline-block">
              Quiero mi Ebook Gratuito
            </a>
          </div>
          <div class="md:w-1/3 flex justify-center">
            <!-- Placeholder for the Ebook image -->
            <Picture
              src={ebookface}
              alt="Portada del Ebook: 15 Elementos Esenciales para la P√°gina Web de un Hostal"
              class="rounded-lg shadow-2xl max-w-full h-auto"
              widths={[200, 400, 600]}
              sizes="(max-width: 800px) 100vw, 620px"
              loading="eager"
              format="avif"
            />
          </div>
        </div>
      </section>

      <!-- Benefits Section -->
      <section class="py-16 bg-white">
        <div class="container mx-auto px-4 text-center">
          <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-12">
            ¬øPor qu√© necesitas esta gu√≠a?
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
            <div
              class="flex flex-col items-center p-6 bg-gray-50 rounded-lg shadow-md transition-transform transform hover:scale-105 duration-300">
              <span class="icon-lg mb-4 text-gray-900">üìà</span>
              <h3 class="text-xl font-semibold text-gray-800 mb-2">
                Aumento de Reservas
              </h3>
              <p class="text-gray-600">
                Aprende a optimizar tu presencia online para atraer a m√°s
                clientes y llenar tus habitaciones.
              </p>
            </div>
            <div
              class="flex flex-col items-center p-6 bg-gray-50 rounded-lg shadow-md transition-transform transform hover:scale-105 duration-300">
              <span class="icon-lg mb-4 text-gray-900">‚úÖ</span>
              <h3 class="text-xl font-semibold text-gray-800 mb-2">
                Credibilidad y Profesionalismo
              </h3>
              <p class="text-gray-600">
                Gana la confianza de viajeros nacionales e internacionales con
                una imagen digital impecable.
              </p>
            </div>
            <div
              class="flex flex-col items-center p-6 bg-gray-50 rounded-lg shadow-md transition-transform transform hover:scale-105 duration-300">
              <span class="icon-lg mb-4 text-gray-900">üèÜ</span>
              <h3 class="text-xl font-semibold text-gray-800 mb-2">
                Ventaja Competitiva
              </h3>
              <p class="text-gray-600">
                Difer√©nciate de la competencia y destaca en el vibrante mercado
                tur√≠stico de Nicaragua.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Ebook Details Section -->
      <section class="py-16 bg-gray-100">
        <div
          class="container mx-auto px-4 flex flex-col lg:flex-row items-center gap-8">
          <div class="md:w-1/2 text-center md:text-left">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">
              Esto es lo que encontrar√°s en el checklist esencial:
            </h2>
            <p class="text-lg text-gray-700 mb-4">
              Nuestro ebook, basado en <span class="font-bold"
                >10 a√±os de experiencia</span
              > en desarrollo web y marketing digital, te revela los 15 elementos
              clave que toda p√°gina web de hostal debe tener para ser exitosa.
            </p>
            <!--   <p class="text-lg text-gray-700 mb-8">
              Adem√°s, te ofrecemos un <span class="font-bold text-red-600"
                >Bonus especial</span
              >: el an√°lisis detallado de una p√°gina web real de hostal para que
              veas la teor√≠a en acci√≥n y aprendas de ejemplos pr√°cticos.
            </p> -->
          </div>
          <div class="md:w-1/3 flex justify-center">
            <!-- Placeholder for the Ebook image, potentially with more detail -->
            <Picture
              src={ebookface}
              alt="Detalles del contenido del Ebook"
              class="rounded-lg shadow-2xl max-w-full h-auto"
              widths={[200, 400, 600]}
              sizes="(max-width: 800px) 100vw, 620px"
              loading="eager"
              format="avif"
            />
          </div>
        </div>
      </section>

      <!-- Form Section -->
      <section id="form-section" class="py-16 bg-white">
        <div class="container mx-auto px-4 max-w-2xl">
          <div class="bg-gray-50 p-8 rounded-lg shadow-xl">
            <h2
              class="text-3xl md:text-4xl font-bold text-gray-900 text-center mb-6">
              Descarga tu copia gratuita ahora
            </h2>
            <p class="text-lg text-gray-700 text-center mb-8">
              Solo tienes que llenar tus datos. Te enviaremos el ebook
              directamente a tu email o WhatsApp.
            </p>
            <form id="lead-form" class="space-y-6" action="#">
              <input
                type="hidden"
                name="access_key"
                value="f44362c2-c158-46aa-9cce-d8589009f4cd"
              />
              <div>
                <label
                  for="name"
                  class="block text-gray-700 text-sm font-medium mb-2"
                  >Nombre completo:</label
                >
                <input
                  type="text"
                  id="name"
                  name="name"
                  class="border border-gray-300 p-3 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Tu nombre completo"
                  required
                />
              </div>
              <div>
                <label
                  for="email"
                  class="block text-gray-700 text-sm font-medium mb-2"
                  >Email:</label
                >
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="border border-gray-300 p-3 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="tu.email@ejemplo.com"
                  required
                />
              </div>
              <div>
                <label
                  for="whatsapp"
                  class="block text-gray-700 text-sm font-medium mb-2"
                  >N√∫mero de WhatsApp:</label
                >
                <div class="relative">
                  <input
                    type="tel"
                    id="whatsapp"
                    name="whatsapp"
                    class="border border-gray-300 p-3 rounded-lg w-full pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="+505 8888 8888"
                    pattern="[0-9]{8,15}"
                    title="Por favor, introduce un n√∫mero de tel√©fono v√°lido (solo d√≠gitos, 8-15 caracteres)"
                  />
                  <!-- WhatsApp Icon (simple SVG) -->
                  <svg
                    class="absolute left-3 top-1/2 transform -translate-y-1/2 text-green-500"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round">
                    <path
                      d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
                    ></path>
                  </svg>
                </div>
                <p class="text-xs text-gray-500 mt-1">
                  Opcional, pero recomendado para una comunicaci√≥n m√°s r√°pida.
                </p>
              </div>
              <div class="flex items-center">
                <input
                  type="checkbox"
                  id="privacy-consent"
                  name="privacy-consent"
                  class="rounded text-blue-600 focus:ring-blue-500 h-4 w-4"
                  required
                />
                <label for="privacy-consent" class="ml-2 text-gray-700 text-sm"
                  >Acepto recibir comunicaciones de devtool systems.</label
                >
              </div>
              <button
                type="submit"
                class="bg-gray-900 text-white px-8 py-4 rounded-lg font-semibold shadow-lg w-full hover:bg-gray-700 hover:shadow-xl transition-all duration-300">
                Descargar Ebook Ahora
              </button>
              <div
                id="form-message"
                class="hidden p-4 mt-4 rounded-lg text-center"
                role="alert">
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Footer Section -->
      <footer class="bg-gray-800 text-white py-8 mt-auto">
        <div class="container mx-auto px-4 text-center md:text-left">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
              <h3 class="text-xl font-bold mb-4">devtool systems</h3>
              <p class="text-gray-400">
                Soluciones de software para impulsar tu negocio.
              </p>
            </div>
            <div>
              <h3 class="text-xl font-bold mb-4">Contacto</h3>
              <p class="text-gray-400">
                <!-- Managua, Nicaragua<br> -->
                Email: devtoolsystemss@gmail.com<br />
                Tel: +505 8963 0653
              </p>
            </div>
            <div>
              <h3 class="text-xl font-bold mb-4">S√≠guenos</h3>
              <div class="flex justify-center md:justify-start space-x-4">
                <!-- Social Media Icons (placeholders) -->
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors duration-200"
                  ><svg
                    class="w-6 h-6"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                    ><path
                      d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.776-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.247 0-1.646.773-1.646 1.563V12h2.773l-.443 2.89h-2.33V22C18.343 21.128 22 16.991 22 12z"
                    ></path></svg
                  ></a
                >
                <!-- <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors duration-200"
                  ><svg
                    class="w-6 h-6"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                    ><path
                      fill-rule="evenodd"
                      d="M12 2C8.714 2 8.358 2.012 7.202 2.064 6.046 2.116 5.25 2.26 4.5 2.5 3.75 2.74 3.097 3.097 2.5 3.75 1.903 4.349 1.66 5.145 1.5 6.498 1.338 7.852 1.338 8.207 1.338 12s0 4.148.162 5.502c.162 1.353.405 2.149 1.002 2.748.597.597 1.393.84 2.747 1.002 1.354.162 1.709.162 5.502.162s4.148 0 5.502-.162c1.353-.162 2.149-.405 2.748-1.002.597-.597.84-1.393 1.002-2.747.162-1.354.162-1.709.162-5.502s0-4.148-.162-5.502c-.162-1.353-.405-2.149-1.002-2.748-.597-.597-1.393-.84-2.747-1.002C16.148 2.012 15.793 2 12 2zm0 2.5c3.21 0 3.597.012 4.885.064 1.288.052 1.954.204 2.378.342.424.138.742.327.994.579.252.252.441.57.579.994.138.424.29 1.09.342 2.378.052 1.288.064 1.675.064 4.885s-.012 3.597-.064 4.885c-.052 1.288-.204 1.954-.342 2.378-.138.424-.327.742-.579.994-.252.252-.441.57-.579.994-.138-.424-.29-1.09-.342-2.378-.052-1.288-.064-1.675-.064-4.885s.012-3.597.064-4.885c.052-1.288.204-1.954.342-2.378.138-.424.327-.742.579-.994.252-.252.57-.441.994-.579.424-.138 1.09-.29 2.378-.342C8.403 4.512 8.79 4.5 12 4.5zm0 3.5a4 4 0 100 8 4 4 0 000-8zm0 2.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm6.5-4.5a1 1 0 110 2 1 1 0 010-2z"
                      clip-rule="evenodd"></path></svg
                  ></a
                > -->
                <!--    <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors duration-200"
                  ><svg
                    class="w-6 h-6"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                    ><path
                      d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
                    ></path></svg
                  ></a
                > -->
              </div>
            </div>
          </div>
          <div
            class="mt-8 pt-8 border-t border-gray-700 text-center text-gray-500">
            &copy; 2025 devtool systems. Todos los derechos reservados.
            <!--    <a href="#" class="text-gray-400 hover:text-white ml-4 transition-colors duration-200">Pol√≠tica de Privacidad</a>
                    <a href="#" class="text-gray-400 hover:text-white ml-4 transition-colors duration-200">T√©rminos y Condiciones</a> -->
          </div>
        </div>
      </footer>
    </div>
  </div>
</Layout>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("lead-form");
    const formData = new FormData(form);
    const object = Object.fromEntries(formData);
    const json = JSON.stringify(object);

    document
      .getElementById("lead-form")
      .addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent default form submission
        const formMessage = document.getElementById("form-message");
        formMessage.classList.add("hidden"); // Hide previous messages

        const name = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const whatsapp = document.getElementById("whatsapp").value;
        const privacyConsent =
          document.getElementById("privacy-consent").checked;

        const emailBody = {
          access_key: "f44362c2-c158-46aa-9cce-d8589009f4cd",
          name: name,
          email: email,
          whatsapp: whatsapp,
          message: "submitted magnet email",
        };

        if (!privacyConsent) {
          formMessage.textContent =
            "Por favor, acepta la pol√≠tica de privacidad.";
          formMessage.classList.remove("hidden");
          formMessage.classList.remove(
            "bg-green-100",
            "text-green-800",
            "border-green-400"
          );
          formMessage.classList.add(
            "bg-red-100",
            "text-red-800",
            "border",
            "border-red-400"
          );
          return;
        }

        // Simulate form submission
        // In a real application, you would send this data to your backend
        // using fetch() or XMLHttpRequest.
        //console.log('Formulario enviado:', { name, email, whatsapp, privacyConsent });

        fetch("https://api.web3forms.com/submit", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Accept: "application/json",
          },
          body: JSON.stringify(emailBody)
        }).then(async (response) => {
          //let json = await response.json();
          if (response.status == 200) {
            formMessage.textContent =
              "¬°Gracias! Tu ebook ha sido enviado a tu email/WhatsApp.";
            formMessage.classList.remove("hidden");
            formMessage.classList.remove(
              "bg-red-100",
              "text-red-800",
              "border-red-400"
            );
            formMessage.classList.add(
              "bg-green-100",
              "text-green-800",
              "border",
              "border-green-400"
            );
          } else {
            /*   result.classList.add("text-red-500");
            result.innerHTML = json.message; */
          }
        });
        /*  .catch((error) => {
            console.log(error);
            result.innerHTML = "Something went wrong!";
          })
          .then(function () {
            form.reset();
            form.classList.remove("was-validated");
            setTimeout(() => {
              result.style.display = "none";
            }, 5000);
          }); */

        // Display success message
        formMessage.textContent =
          "¬°Gracias! Tu ebook ha sido enviado a tu email/WhatsApp.";
        formMessage.classList.remove("hidden");
        formMessage.classList.remove(
          "bg-red-100",
          "text-red-800",
          "border-red-400"
        );
        formMessage.classList.add(
          "bg-green-100",
          "text-green-800",
          "border",
          "border-green-400"
        );

        // Optionally, clear the form
        this.reset();
      });
  });
</script>
